# 3. LINE Messaging API を利用した本格Botの開発

Google Apps Script(GAS)を用いて，より本格的な機能を利用できるLINE Botを作成します．

## LINE Developersアカウントの作成

まずは [LINE Developers](https://developers.line.biz/ja/) のサイトにアクセスし，右上の`コンソールにログイン`をクリックします．

開いた画面で`LINEアカウントでログイン`をクリックし，ご自身のLINEアカウントでログインされてください．

> [!TIP]
> QRコードログイン機能が便利です．

ログインできたら，まずはプロバイダー(Bot開発者のプロフィール)を作成します．  
プロバイダー画面で，`作成`をクリックして手順に従い作成します．

## チャネルアクセストークンの取得

1. チャネル設定画面より，Messaging APIを有効化します．
`Messaging API`の画像をクリックします．

1. 以下の項目をそれぞれ入力・アップロードし，利用規約を確認して`作成`をクリックします．
    - 会社・事業者の所在地・地域：日本
    - チャネルアイコン：任意
    - チャネル名：Botの名前を決めてください
    - チャネル説明
    - 大業種：保育・学校
    - 大学所属サークル・部活動

1. `以下の内容でMessaging APIチャネルを作成しますか？`と表示されます．内容を確認して，問題なければ`OK`をクリックします．

1. `チャネル基本設定`を下にスクロールし，以下の要素をコピーしてメモ帳などのアプリケーションに控えておきます．
    - チャネルID
    - チャネルシークレット(発行を押すと再発行されます)

1. `Messaging API設定`を開き，最下部にスクロールして`チャネルアクセストークン(長期)`の`発行`をクリックします．表示されたチャネルアクセストークンは，チャネルシークレットと同様に控えておきます．

1. この後Google Apps Scriptを使用しますが，後にこのLINE Developersのコンソール画面に再び戻ってきます．閉じないようにしておきましょう．

> [!CAUTION]
> チャネルシークレットやチャネルアクセストークンは，他者に知られないように注意してください．  
> もしGitHubの公開リポジトリなどでうっかり公開してしまったときは，速やかに`発行`ボタンをクリックして以前のものを無効化します．

## サーバプログラムの作成

1. (TBD)

## Webhook URLの設定

1. LINE Developersのコンソール画面を開き，`Messaging API設定`からWebhook URLの`編集`ボタンをクリックします．

1. 先ほど生成したWebhook URLをここにペーストし，`更新`をクリックします．

1. (TBD)

## Botのカスタマイズ

ここまでできたら，ぜひLINE Developersのコンソール画面をいろいろ触ってみてください．  
友達登録後に自動でメッセージを送信したり，ご自身で開発するWebアプリケーションにLINEログインの機能を追加したりすることが簡単にできます．  

APIの扱いに慣れている人は，[Messaging APIリファレンス](https://developers.line.biz/ja/reference/messaging-api/) を参照してより高度なBotの開発に挑戦してみましょう．  
グループトークで活躍できるBotを作ったり，企業の公式LINEでよくあるリッチメニューやボタンを作ったりすることだってできます．

[Chat GPTなどの生成系AIと連携させる](https://zenn.dev/robes/articles/c8dda8b42afab8)ことでより簡単に高機能なBotを作れるかもしれません．ぜひいろいろと試してみましょう！  
困ったときは遠慮なく近くのCore-team Memberにお声掛けくださいね．

[目次に戻る](README.md)